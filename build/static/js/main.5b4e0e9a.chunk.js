(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{10:function(e){e.exports=JSON.parse('{"A":"https://cortexbot.onrender.com","d":"https://data-cortexbot.onrender.com","i":"/api/v1/manager/execute-strategy","E":"/api/v1/stock/get-stocks-symbol","t":"/api/v1/stock/get-stocks-data","w":"/api/v1/strategy/get-strategy-list","x":"/api/v1/executor/trade-type-list","l":"/api/v1/executor/brokers-list","u":"/api/v1/strategy/get-strategy-data","q":"/api/v1/stock/get-stock-type-list","C":"/api/v1/manager/save-strategy","v":"/api/v1/ranking/fetch-code","n":"/api/v1/ranking/fetch-result","f":"/api/v1/ranking/delete-strategy","a":"/api/v1/executor/active-list","G":"/api/v1/manager/update-executor-status","e":"/api/v1/manager/deactivate-executor","D":"/api/v1/manager/initiate-executor","F":"/api/v1/strategy/get-all-strategy-metadata","h":"/api/v1/manager/delete-strategy","m":"/api/v1/manager/interval-list","H":"/api/v1/onboarding/user-login","b":"/api/v1/onboarding/broker-login","c":"/api/v1/onboarding/broker-logout","y":"/api/v1/user/get-user","z":"/api/v1/broker/get-holdings","j":"/api/v1/analysis/generate-trade-signals","k":"/api/v1/analysis/get-all-signals-list","o":"/api/v1/analysis/get-signal-data","p":"/api/v1/analysis/get-signal-summary-report","g":"/api/v1/analysis/delete-signal","s":"/api/v1/analysis/get-stock-bucket-list","r":"/api/v1/analysis/get-stock-bucket-data","B":"/api/v1/analysis/save-stock-bucket-data"}')},382:function(e){e.exports=JSON.parse('{"a":"#------------ Select Some pre-defined strategy, to get some idea --------------------"}')},414:function(e,t,a){},415:function(e,t,a){},428:function(e,t,a){},457:function(e,t,a){},458:function(e,t,a){},509:function(e,t,a){},513:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},517:function(e,t,a){},527:function(e,t,a){},528:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(21),s=a.n(r),o=(a(414),a(415),a(155)),i=a(22),l=a(8),d=a(371),u=a(197),j=a(551),b=a(3),g=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("link",{rel:"stylesheet",type:"text/css",href:"https://code.highcharts.com/css/stocktools/gui.css"}),Object(b.jsx)("link",{rel:"stylesheet",type:"text/css",href:"https://code.highcharts.com/css/annotations/popup.css"}),Object(b.jsx)("script",{src:"https://code.highcharts.com/stock/highstock.js"}),Object(b.jsx)("script",{src:"https://code.highcharts.com/stock/modules/data.js"}),Object(b.jsx)("script",{src:"https://code.highcharts.com/stock/indicators/indicators-all.js"}),Object(b.jsx)("script",{src:"https://code.highcharts.com/stock/modules/drag-panes.js"}),Object(b.jsx)("script",{src:"https://code.highcharts.com/modules/annotations-advanced.js"}),Object(b.jsx)("script",{src:"https://code.highcharts.com/modules/price-indicator.js"}),Object(b.jsx)("script",{src:"https://code.highcharts.com/modules/full-screen.js"}),Object(b.jsx)("script",{src:"https://code.highcharts.com/modules/stock-tools.js"}),Object(b.jsx)("script",{src:"https://code.highcharts.com/stock/modules/heikinashi.js"}),Object(b.jsx)("script",{src:"https://code.highcharts.com/stock/modules/hollowcandlestick.js"}),Object(b.jsx)("script",{src:"https://code.highcharts.com/modules/accessibility.js"})]})},m=a(374),O=a.n(m);a(424),a(425),a(426),a(427),a(428);var h=function(e){var t=e.code,a=e.setCode,c=Object(n.useState)(!1),r=Object(l.a)(c,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&o(!1)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),Object(b.jsxs)("div",{className:s?"editor-fullscreen":"editor-container",children:[Object(b.jsx)(O.a,{style:{height:"100%",width:"100%"},placeholder:"Start Coding",mode:"python",theme:"monokai",name:"basic-code-editor",onChange:function(e){return a(e)},fontSize:14,highlightActiveLine:!0,value:t,setOptions:{enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:4}}),Object(b.jsx)("button",{className:"fullscreen-button ".concat(s?"exit":""),onClick:function(){o(!s)},children:s?"Exit Full Screen":"Full Screen"})]})},p=a(11),f=a(16),x=a(96),v=a(530),k=a(334),S=a(333),y=a(20),N=a.n(y),_=a(42),w=a(10),C=function(e){var t=[];for(var a in e)t.push({label:a,value:e[a]});return t},E=function(e){for(var t=[],a=0;a<e.length;a++)t.push({label:e[a],value:e[a]});return t};var A=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"stock_name",c=Object(n.useState)("loading"),r=Object(l.a)(c,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){N.a.get(w.d+w.E).then((function(e){o(C(e.data.data))}))}),[]),Object(b.jsx)("div",{children:Object(b.jsx)(_.a,{onChange:function(n){console.log(n),e(a,t?n:n.value)},defaultValue:s[0],options:s,placeholder:"Select Data",isMulti:t})})},D=function(e){var t=[];return e.forEach((function(e){t.push({label:e,value:e})})),t},I=function(e){return new Date(e).getTime()+198e5};var B=function(e,t,a,n){var c=a?a.map((function(e){return{x:I(e.timestamp),y:1.002*e.amount,quantity:String(e.quantity),marker:"BUY"===e.action?{symbol:"triangle",fillColor:"#83ff74",lineColor:"black",lineWidth:1}:{symbol:"triangle-down",fillColor:"#ff0000",lineColor:"black",lineWidth:1}}})):[];return{navigation:{bindingsClassName:"tools-container"},stockTools:{gui:{enabled:!0}},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e %b",month:"%e. %b",year:"%b"},title:{text:"Timestamp"}},yAxis:[{labels:{align:"left"},height:"80%",resize:{enabled:!0}},{labels:{align:"left"},top:"80%",height:"20%",offset:0}],tooltip:{shape:"square",headerShape:"callout",pointFormatter:function(){return"<b>Value: ".concat(parseFloat(this.y).toFixed(2),"</b><br/>Time: ").concat(function(e){var t=new Date(e),a=t.getUTCHours(),n=t.getUTCMinutes(),c=(a%24).toString().padStart(2,"0"),r=(n%60).toString().padStart(2,"0"),s="".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0")),o="".concat(c,":").concat(r,":").concat(t.getSeconds().toString().padStart(2,"0"));return"".concat(s," ").concat(o)}(this.x))},borderWidth:0,shadow:!0},series:R(e,c,n),responsive:{rules:[{condition:{maxWidth:2e3},chartOptions:{rangeSelector:{inputEnabled:!0}}}]}}},R=function(e,t,a){if(console.log("stock data: ",e),null==e)return{type:"candlestick",id:"candlestick",name:"Stock Price",data:null};var n=[];if(a){for(var c=0;c<e.length;c+=1)n.push([I(new Date(e[c].Date)),e[c].Open,e[c].High,e[c].Low,e[c].Close]);return[{type:"candlestick",id:"candlestick",name:"Stock Price",data:n},{type:"scatter",id:"buySignal",name:"Buy sell Signal",data:t}]}for(var r=0;r<e.length;r+=1)n.push({x:I(new Date(e[r].Date)),y:e[r].Close});return[{type:"spline",id:"line chart",name:"Stock Price",data:n},{type:"scatter",id:"buySignal",name:"Buy sell Signal",data:t}]};var T=function(e){var t=Object(n.useState)("loading"),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){N.a.get(w.d+w.q).then((function(e){r(D(e.data.data))}))}),[]),Object(b.jsx)("div",{children:Object(b.jsx)(_.a,{onChange:function(t){e("stock_basket",t.value)},defaultValue:c[0],options:c,placeholder:"Select Stock Basket"})})};function L(e){e.username;var t=e.formValues,a=e.setFormValues,c=e.code,r=e.settrades,s=e.setAnalysis,o=(e.description,Object(n.useState)([])),i=Object(l.a)(o,2),d=i[0],g=i[1];Object(n.useEffect)((function(){N.a.get(w.A+w.m).then((function(e){console.log("response for interval list: "+e),g(D(e.data.data))}))}),[]);var m=function(e){var n=e.target,c=n.name,r=n.value;a(Object(f.a)(Object(f.a)({},t),{},Object(p.a)({},c,r)))},O=function(e,t){var a={target:{}};a.target.name=e,a.target.value=t,m(a)};return Object(b.jsxs)(u.a,{className:"bg-opacity-40 p-4 h-100",children:[Object(b.jsx)(x.a,{variant:"h7",className:"text-center text-gray-500 text-bold",children:"Select Data"}),A(O),Object(b.jsxs)("div",{className:"grid md:grid-cols-2 md:grid-rows-2 gap-2 mt-3",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(v.a,{children:"Ranking"}),Object(b.jsx)(j.a,{color:"secondary",name:"ranking",onChange:function(e){var n=e.target,c=n.name,r=n.checked;a(Object(f.a)(Object(f.a)({},t),{},Object(p.a)({},c,r)))},label:"Use code for Ranking Service"})]}),Object(b.jsx)("div",{children:Object(b.jsx)(_.a,{onChange:function(e){return O("interval",e.value)},placeholder:"Interval",name:"interval",isRequired:!0,defaultValue:d[0],options:d})}),T(O)]}),Object(b.jsxs)("div",{className:"grid md:grid-rows-2 gap-3 mt-3",style:{backgroundColor:"rgba(144, 238, 144, 0.5)"},children:[Object(b.jsx)(S.a,{onChange:m,name:"start_date",type:"datetime-local",value:t.start_date,label:"Start Date"}),Object(b.jsx)(S.a,{onChange:m,name:"end_date",type:"datetime-local",value:t.end_date,label:"End Date"})]}),Object(b.jsxs)("div",{className:"grid",children:[Object(b.jsx)(S.a,{onChange:m,name:"strategy_name",type:"input",value:t.strategy_name,label:"Strategy name",required:!0}),Object(b.jsx)(S.a,{onChange:m,name:"description",multiline:"true",type:"textarea",value:t.description,label:" description "})]}),Object(b.jsxs)("div",{className:"grid grid-col-2 grid-flow-col m-3 align-bottom",children:[Object(b.jsx)(k.a,{onClick:function(){""===t.strategy_name&&alert("Please enter Strategy name"),""===t.start_date&&alert("Please enter start_date "),""===t.end_date&&alert("Please enter end_date"),""===t.interval&&alert("Please select Interval");var e=function(e){var t={};return t.ticker=Array.of(e.stock_symbol),t.startDate=e.start_date,t.endDate=e.end_date,t.strategyName=e.strategy_name,t.ticker=e.stock_name,t.enableRanking=e.ranking,t.stockBasket=e.stock_basket,t.username=e.username,t.description=e.description,t.interval=e.interval,t}(t);console.log("post request",e),e.strategy_code=c,e.backtestEngine="simple_engine",null!=localStorage.getItem("username")&&(e.username=localStorage.getItem("username"),null!=localStorage.getItem("brokerDetails")&&(e.broker_name=JSON.parse(localStorage.getItem("brokerDetails")).name),console.log("post request upd",e)),N.a.post(w.A+w.i,e).then((function(e){console.log("trade data",e.data),"SUCCESS"==e.data.status?"RANKING"==e.data.data?alert("Strategy Executed and Updated in Ranking"):(r(e.data.data.trades),delete e.data.data.trades,s(e.data.data)):alert("Error: "+e.data.error_description)})).catch((function(e){return alert("Algo trade data "+e)}))},children:"Submit"}),Object(b.jsx)(k.a,{onClick:function(){var e={code:c,strategy_name:t.strategy_name,username:null==t.username?localStorage.getItem("username"):"Anonymous",description:t.description};console.log("view payload",e),N.a.post(w.A+w.C,e).then((function(e){console.log("strategy save response",e),e.data.status=="success".toUpperCase()?alert("Strategy Saved, id = "+e.data.data.strategy_id):alert("failed to save the strategy")})).catch((function(e){return alert(e)}))},children:"Save"})]})]})}var P=a(111),F=a.n(P),q=a(376),U=a.n(q),V=a(377),H=a.n(V),G=a(378),z=a.n(G),M=a(379),J=a.n(M),W=a(380),Y=a.n(W),K=a(381),Q=a.n(K);H()(F.a),z()(F.a),J()(F.a),Y()(F.a),Q()(F.a);var X=function(e,t,a,c){var r=Object(n.useState)(null),s=Object(l.a)(r,2),o=s[0],i=s[1],d=Object(n.useState)(null),u=Object(l.a)(d,2),j=(u[0],u[1]),g=Object(n.useState)(null),m=Object(l.a)(g,2),O=(m[0],m[1]),h=w.d+w.t,p={headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}};return Object(n.useEffect)((function(){var a={ticker:e.stock_name||"TATAMOTORS.NS",startDate:e.start_date,endDate:e.end_date,interval:e.interval||"1d"};null!=localStorage.getItem("username")&&(a.username=localStorage.getItem("username"),null!=localStorage.getItem("brokerDetails")&&(a.broker_name=JSON.parse(localStorage.getItem("brokerDetails")).name),console.log("post request upd",a)),N.a.post(h,a,p).then((function(e){i(B(e.data.data,a.ticker,t,c)),j(e.data.data),O(a.ticker),console.log("options set : ",o)})).catch((function(e){return alert("Getting Stock Data "+e)}))}),[e.stock_name,e.start_date,e.end_date,e.interval,t,c]),Object(b.jsx)("div",{className:a,style:{minHeight:"40vh",width:"100%",position:"relative"},children:o&&Object(b.jsx)(U.a,{highcharts:F.a,constructorType:"stockChart",options:o,containerProps:{style:{height:"100%",width:"100%"}}})})};function Z(e){var t=e.setCode,a=e.formValues,c=e.setFormValues,r=Object(n.useState)([]),s=Object(l.a)(r,2),o=s[0],i=s[1],d=Object(n.useState)(null),j=Object(l.a)(d,2),g=j[0],m=j[1];return Object(n.useEffect)((function(){N.a.get(w.A+w.w).then((function(e){console.log("strategy list",e.data.data),i(D(e.data.data)),console.log("strategy list after conversion ",o)}))}),[]),Object(n.useEffect)((function(){console.log("strategy name",g),null!=g&&N.a.get(w.A+w.u+"/"+g).then((function(e){var n;t(e.data.code),c(Object(f.a)(Object(f.a)({},a),{},(n={},Object(p.a)(n,"strategy_name",g),Object(p.a)(n,"description",e.data.description),n)))}))}),[g]),Object(b.jsxs)(u.a,{className:"bg-opacity-40 p-4",children:[Object(b.jsx)(x.a,{variant:"h7",className:"text-center  text-gray-500 text-bold",children:"Select Strategy"}),Object(b.jsx)(_.a,{onChange:function(e){m(e.value)},defaultValue:o[0],options:o})]})}var $=a(382),ee=(a(457),{stock_name:"ONGC",start_date:function(){var e=new Date;return e.setDate(e.getDate()-1),e.setHours(9),e.setMinutes(15),e.toLocaleString()}(),end_date:function(){var e=new Date;return e.setHours(15),e.setMinutes(30),e.toLocaleString()}(),strategy_name:"Random",ranking:!1,description:"",stock_basket:null,interval:"5m"});var te=function(){var e=Object(n.useState)(ee),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),s=Object(l.a)(r,2),o=(s[0],s[1],Object(n.useState)($.a)),i=Object(l.a)(o,2),m=i[0],O=i[1],p=Object(n.useState)(null),f=Object(l.a)(p,2),x=f[0],v=f[1],k=Object(n.useState)(null),S=Object(l.a)(k,2),y=S[0],N=S[1],_=Object(n.useState)(!0),w=Object(l.a)(_,2),C=w[0],E=w[1];return Object(b.jsxs)("div",{className:"m-1 p-0 min-h-screen flex flex-col",children:[Object(b.jsxs)(d.a,{children:[Object(b.jsx)(g,{})," "]}),Object(b.jsxs)("div",{className:"m-1 grid md:grid-cols-1 lg:grid-cols-4 gap-4 flex-grow",children:[Object(b.jsx)("div",{className:"col-span-1 lg:col-span-3",children:Object(b.jsx)("div",{className:"h-96 lg:h-full bg-transparent border border-gray-300 rounded-md overflow-hidden",style:{maxHeight:"55vh"},children:X(a,x,"h-100 w-100",C)})}),Object(b.jsxs)("div",{className:"col-span-1 lg:col-span-1 flex flex-col",children:[Object(b.jsx)("div",{className:"text-center font-semibold text-heading mb-3",children:"Analysis"}),Object(b.jsx)("div",{className:"flex-grow overflow-x-auto",children:y?Object(b.jsx)("div",{className:"table-report",children:Object.keys(y).map((function(e){return Object(b.jsxs)("div",{className:"table-row",children:[Object(b.jsx)("div",{className:"key",children:e}),Object(b.jsx)("div",{className:"value",children:"number"===typeof y[e]?Math.round(1e3*y[e])/1e3:String(y[e])})]},e)}))}):Object(b.jsx)("div",{className:"text-gray-500",children:"Strategy not executed yet"})}),Object(b.jsx)("div",{className:"mt-4",children:Object(b.jsxs)(u.a,{className:"p-2 flex mb-0",children:["Candle Stick Chart",Object(b.jsx)(j.a,{checked:C,name:"enable candle stick chart",onChange:function(e){E(e.target.checked)},label:"enable candle stick chart"})]})})]})]}),Object(b.jsxs)("div",{id:"filter_code_panel",className:"grid md:grid-cols-1 lg:grid-cols-4 gap-4 md:h-100",children:[Object(b.jsx)("div",{className:"col-span-1 lg:col-span-3 ",children:Object(b.jsx)(h,{code:m,setCode:O})}),Object(b.jsxs)("div",{className:"col-span-1 lg:col-span-1 rounded-md shadow-md",children:[Object(b.jsx)(Z,{setCode:O,formValues:a,setFormValues:c}),Object(b.jsx)(L,{username:"alvin369",formValues:a,setFormValues:c,code:m,settrades:v,setAnalysis:N,description:null})]})]})]})},ae=a(383),ne=a(384),ce=a(133),re=a.p+"static/media/logo.1a1f83b8.png",se=(a(458),function(e){var t=e.icon,a=e.path;return Object(b.jsx)(o.b,{to:a,children:Object(b.jsx)("div",{className:"sidebar-icon",children:t})})}),oe=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){!function(){var e=localStorage.getItem("userProfilePic");c(e)}()}),[]),Object(b.jsxs)("div",{className:"fixed top-0 left-0 h-screen w-16 m-0 flex flex-col bg-primary text-secondary shadow-lg",children:[Object(b.jsx)(se,{icon:Object(b.jsx)("img",{alt:"logo",src:re,className:"rounded"}),path:"/",label:"Home"}),Object(b.jsx)(se,{icon:Object(b.jsx)(ae.a,{size:"28"}),path:"/ranking",label:"Ranking"}),Object(b.jsx)(se,{icon:Object(b.jsx)(ne.a,{size:"28"}),path:"/executor_cp",label:"Executor CP"}),Object(b.jsx)(se,{icon:Object(b.jsx)(ce.b,{size:"28"}),path:"/strategy_dashboard",label:"Strategy Dashboard"}),Object(b.jsx)(se,{icon:Object(b.jsx)(ce.c,{size:"28"}),path:"/generate_signals",label:"Generate Signals"}),Object(b.jsx)(se,{icon:Object(b.jsx)(ce.a,{size:"28"}),path:"/signals_dashboard",label:"Signals Dashboard"}),Object(b.jsx)("div",{className:"user-profile-pic ",children:Object(b.jsx)(o.b,{to:"/user",children:a?Object(b.jsx)("img",{src:a,alt:"User Profile"}):Object(b.jsx)(ce.d,{size:"28",className:"user-icon"})})})]})},ie=a(27),le=a(37),de=function(e){var t=[];return Object.keys(e[0]).map((function(e){if("tableData"!=e){var a={};a.title=e,a.field=e,t.push(a)}})),console.log("columnsGenerated",t),t},ue=function(e){var t=[];return e.forEach((function(e){null!=e.trades&&e.trades.forEach((function(a){a.stock_name=e.stock_name,delete a.stop_loss,t.push(a)}))})),t},je=a(211),be=a(541),ge=a(403),me=a(351),Oe=a(251),he=a.n(Oe),pe=a(386),fe=a.n(pe),xe=a(396),ve=a.n(xe),ke=a(387),Se=a.n(ke),ye=a(394),Ne=a.n(ye),_e=a(254),we=a.n(_e),Ce=a(253),Ee=a.n(Ce),Ae=a(388),De=a.n(Ae),Ie=a(389),Be=a.n(Ie),Re=a(391),Te=a.n(Re),Le=a(392),Pe=a.n(Le),Fe=a(393),qe=a.n(Fe),Ue=a(397),Ve=a.n(Ue),He=a(390),Ge=a.n(He),ze=a(395),Me=a.n(ze),Je=a(398),We=a.n(Je),Ye={Add:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(fe.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(Se.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(Ee.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(De.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(we.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(Be.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(Ge.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(Te.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(Pe.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(qe.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(we.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(Ne.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(Ee.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(Me.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(ve.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(Ve.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return Object(b.jsx)(We.a,Object(f.a)(Object(f.a)({},e),{},{ref:t}))}))},Ke=(a(509),function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(b.jsx)("div",{children:Object(b.jsx)(he.a,{title:e,data:t,icons:Ye,columns:a,options:{toolbarButtonAlignment:"left",searchAutoFocus:!0,minBodyHeight:"70vh",maxBodyHeight:"80vh",pageSize:20,headerStyle:{backgroundColor:"#02349b",color:"#FFF",zIndex:n.zIndex},header:{position:"sticky",top:0},tableLayout:"fixed",rowStyle:{overflowWrap:"break-word"},scrollY:!0,paging:!0},components:{}})})}),Qe=Object(me.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var Xe=function(){var e=Qe(),t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)([]),o=Object(l.a)(s,2),i=o[0],d=o[1],u=Object(n.useState)(!1),j=Object(l.a)(u,2),g=j[0],m=j[1],O=Object(n.useState)(null),p=Object(l.a)(O,2),f=p[0],x=p[1],v=[{title:"Show code",field:"code",render:function(e){return Object(b.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(t){m(!0),x(e["Strategy Name"])},children:"Code        "})},disableClickEventBubbling:!0},{title:"Delete Ranking ",field:"deleteRanking",render:function(e){return Object(b.jsx)(k.a,{variant:"contained",className:"bg-danger",onClick:function(t){var a={strategyName:e["Strategy Name"]};N.a.delete(w.A+w.f,{data:a},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){console.log("delete requested")}))},children:"Delete Strategy"})},disableClickEventBubbling:!0}];Object(n.useEffect)((function(){var e=w.A+w.n;Object(le.a)(Object(ie.a)().mark((function t(){var a,n;return Object(ie.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N()(e);case 2:if(0!==(a=t.sent).data.response.length){t.next=6;break}return console.log("null data"),t.abrupt("return");case 6:r(a.data.response),(n=de(a.data.response)).push.apply(n,v),d(n),console.log("column ",i),console.log("data ",c);case 12:case"end":return t.stop()}}),t)})))()}),[]);var S=Object(n.useState)(null),y=Object(l.a)(S,2),_=y[0],C=y[1];Object(n.useEffect)((function(){Object(le.a)(Object(ie.a)().mark((function e(){var t,a,n;return Object(ie.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w.A+w.v,null==f){e.next=7;break}return a={strategyName:f},e.next=5,N.a.post(t,a);case 5:n=e.sent,C(n.data.response);case 7:case"end":return e.stop()}}),e)})))()}),[f]);var E=Object(b.jsx)("div",{className:"loading",children:"Loading data"});return Object(b.jsxs)("div",{children:[Object(b.jsx)(je.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:g,onClose:function(){m(!1)},closeAfterTransition:!0,BackdropComponent:be.a,BackdropProps:{timeout:500},children:Object(b.jsx)(ge.a,{in:g,children:Object(b.jsxs)("div",{className:"w-4/5 h-3/4 bg-gray-600 text-white",children:[Object(b.jsx)("h1",{children:"Code"}),Object(b.jsx)(h,{code:_,setCode:C})]})})}),c&&i?Ke("Ranking",c,i):E]})};a(510);var Ze=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(l.a)(r,2),o=s[0],i=s[1],d=[{title:"Update Status",field:"updateStatus",render:function(e){return Object(b.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(t){!function(e,t){var a=w.A+w.G,n={};n.status=t,n.executor_id=e,console.log("executor id is "+e),N.a.post(a,n).then((function(t){"SUCCESS"!=t.data.status&&alert("Executor Id "+e+" not updated")}))}(e.executor_id,"PAUSE")},children:"PAUSE "})},disableClickEventBubbling:!0},{title:"Deactivate Executor",field:"deactivate",render:function(e){return Object(b.jsx)(k.a,{variant:"contained",color:"danger",onClick:function(t){!function(e){var t=w.A+w.e;N.a.post(t,{executor_id:e}).then((function(t){"SUCCESS"!=t.data.status&&alert("Executor Id "+e+" not deactivated")}))}(e.executor_id)},children:"Deactivate "})},disableClickEventBubbling:!0}];Object(n.useEffect)((function(){var e=w.A+w.a;Object(le.a)(Object(ie.a)().mark((function t(){var a,n;return Object(ie.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N()(e);case 2:if(a=t.sent,console.log("result data",a),r=a.data,a=Array.isArray(r)?r.map((function(e){var t=e.status,a=e.executor_id,n=e.data,c=n.strategy_name;return{executor_start_time:n.executor_start_time,status:t,executor_id:a,strategy_name:c}})):[],console.log("result data updated ",a),0!==a.length){t.next=9;break}return console.log("null data"),t.abrupt("return");case 9:c(a),(n=de(a)).push.apply(n,d),i(n);case 13:case"end":return t.stop()}var r}),t)})))()}),[]);var u=Object(b.jsx)("div",{className:"loading",children:"Loading data"});return Object(b.jsx)("div",{children:a&&o?Ke("Active Executors",a,o):u})},$e={stock_list:["INFY"],start_date:new Date(Date.now()-2592e6).toISOString().slice(0,10),end_date:(new Date).toISOString().slice(0,10),strategy_name:"Random",remarks:"",username:"pankaj369",trade_type:"HISTORICAL_TRADING",broker_name:"PAPER_TRADING"};function et(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(l.a)(r,2),o=s[0],i=s[1],d=Object(n.useState)([]),j=Object(l.a)(d,2),g=j[0],m=j[1],O=Object(n.useState)(null),h=Object(l.a)(O,2),v=(h[0],h[1],Object(n.useState)($e)),y=Object(l.a)(v,2),C=y[0],E=y[1];Object(n.useEffect)((function(){N.a.get(w.A+w.w).then((function(e){c(D(e.data.data))})),N.a.get(w.A+w.l).then((function(e){i(D(e.data.data))})),N.a.get(w.A+w.x).then((function(e){m(D(e.data.data))}))}),[]);var I=function(e){var t=e.target,a=t.name,n=t.value;E(Object(f.a)(Object(f.a)({},C),{},Object(p.a)({},a,n)))},B=function(e,t){E(Object(f.a)(Object(f.a)({},C),{},Object(p.a)({},e,t)))};return Object(b.jsx)("div",{children:Object(b.jsx)("form",{onSubmit:function(){console.log("new executor request",C),N.a.post(w.A+w.D,function(e){console.log("new executor request",e);var t={};return t.broker_name=e.broker_name,t.executor_type="ALGORITHM",t.trade_type=e.trade_type,t.username=e.username,t.remarks=e.remarks,t.strategy_params={stock_list:e.stock_list,strategy_name:e.strategy_name,start_date:e.start_date,end_date:e.end_date},t}(C)).then((function(e){console.log("trade data",e.data),alert("Executor Id "+e.data.executor_id)})).catch((function(e){return alert(e)}))},children:Object(b.jsxs)(u.a,{className:"bg-opacity-40 p-4 h-100",children:[Object(b.jsx)("h1",{className:"text-center font-bold text-lg",children:"Create Executor"}),Object(b.jsx)(x.a,{variant:"h7",className:"text-center text-gray-500 text-bold",children:"Select Strategy"}),Object(b.jsx)(_.a,{onChange:function(e){B("strategy_name",e.value)},placeholder:"Select Strategy",isRequired:!0,defaultValue:a[0],options:a}),Object(b.jsx)(x.a,{variant:"h7",className:"text-center text-gray-500 text-bold",children:"Select Stocks"}),A((function(e,t){var a=[];t.forEach((function(e){return a.push(e.value)})),E(Object(f.a)(Object(f.a)({},C),{},Object(p.a)({},e,a)))}),!0,"stock_list"),Object(b.jsxs)("div",{className:"grid md:grid-cols-2 gap-2 mt-3",children:[Object(b.jsx)(_.a,{onChange:function(e){B("trade_type",e.value)},placeholder:"Select trade Type",isRequired:!0,defaultValue:g[0],options:g}),Object(b.jsx)(_.a,{onChange:function(e){B("broker_name",e.value)},placeholder:"Select Broker",isRequired:!0,defaultValue:o[0],options:o})]}),Object(b.jsxs)("div",{className:"grid md:grid-cols-2 gap-2 mt-3",children:[Object(b.jsx)(S.a,{onChange:I,name:"start_date",type:"date",value:C.start_date,label:"Start Date"}),Object(b.jsx)(S.a,{onChange:I,name:"end_date",type:"date",value:C.end_date,label:"End Date"})]}),Object(b.jsxs)("div",{className:"grid md:grid-cols-2 gap-2 mt-3",children:[Object(b.jsx)(S.a,{onChange:I,name:"remarks",multiline:"true",type:"textarea",value:C.remarks,label:" remarks "}),Object(b.jsx)(S.a,{onChange:I,name:"username",multiline:"false",type:"textarea",value:C.username,label:" username "})]}),Object(b.jsx)("div",{className:"grid grid-col-1 grid-flow-col m-3 align-bottom",children:Object(b.jsx)(k.a,{className:" bg-green-100",type:"submit",children:" Submit "})})]})})})}function tt(){return Object(b.jsx)("div",{className:"container m-1 p-2",children:Object(b.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-5 ",children:[Object(b.jsx)("div",{className:"col-span-3 md:col-span-3 rounded-lg shadow-lg p-4",children:Ze()}),Object(b.jsx)("div",{className:"col-span-2 md:col-span-2 rounded-lg shadow-lg p-4",children:et()})]})})}var at=Object(me.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function nt(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(l.a)(r,2),o=s[0],i=s[1],d=Object(n.useState)(100),u=Object(l.a)(d,2),j=u[0],g=(u[1],Object(n.useState)(0)),m=Object(l.a)(g,2),O=m[0],p=(m[1],Object(n.useState)(!1)),f=Object(l.a)(p,2),x=f[0],v=f[1],S=Object(n.useState)(null),y=Object(l.a)(S,2),_=y[0],C=y[1],E=Object(n.useState)(null),A=Object(l.a)(E,2),D=A[0],I=A[1],B=at(),R=[{title:"Show code",field:"code",render:function(e){return Object(b.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(t){v(!0),C(e.strategy_name),console.log("setting the code id to "+e.strategy_name)},children:"Code        "})},disableClickEventBubbling:!0},{title:"Delete Ranking ",field:"deleteRanking",render:function(e){return Object(b.jsx)(k.a,{variant:"contained",className:"bg-danger",onClick:function(t){var a={strategy_name:e.strategy_name};N.a.delete(w.A+w.h,{data:a},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){console.log("delete requested")}))},children:"Delete Strategy"})},disableClickEventBubbling:!0}];return Object(n.useEffect)((function(){var e=w.A+w.F,t={page_size:j,page_number:O};N.a.post(e,t).then((function(e){console.log("strategy result log",e),i(e.data);var t=de(e.data);t.push.apply(t,R),c(t)}))}),[O,j]),Object(n.useEffect)((function(){Object(le.a)(Object(ie.a)().mark((function e(){var t,a;return Object(ie.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w.A+w.u+"/"+_,null==_){e.next=6;break}return e.next=4,N.a.get(t);case 4:a=e.sent,I(a.data.code);case 6:case"end":return e.stop()}}),e)})))()}),[_]),Object(b.jsxs)("div",{className:"grid container m-2 p-2",children:[Object(b.jsx)(je.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:B.modal,open:x,onClose:function(){v(!1)},closeAfterTransition:!0,BackdropComponent:be.a,BackdropProps:{timeout:500},children:Object(b.jsx)(ge.a,{in:x,children:Object(b.jsxs)("div",{className:"w-4/5 h-3/4 bg-gray-600 text-white",children:[Object(b.jsx)("h1",{children:"Code"}),Object(b.jsx)(h,{code:D,setCode:I})]})})}),Ke("Strategy Dashboard",o,a)]})}a(513),a(514),a(515);function ct(e){var t=e.clientname,a=Object(n.useState)(null),c=Object(l.a)(a,2),r=c[0],s=c[1],o=Object(n.useState)([]),i=Object(l.a)(o,2),d=i[0],u=i[1],j=Object(n.useState)(""),g=Object(l.a)(j,2),m=g[0],O=g[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),f=p[0],x=p[1],v=Object(n.useState)(!1),k=Object(l.a)(v,2),S=(k[0],k[1]);Object(n.useEffect)((function(){var e=function(){var e=Object(le.a)(Object(ie.a)().mark((function e(){var a,n,c;return Object(ie.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={broker_name:"ANGEL_ONE",username:t,session_id:localStorage.getItem("brokerSessionID")},e.next=4,fetch(w.A+w.z,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:if(!(n=e.sent).ok){e.next=12;break}return e.next=8,n.json();case 8:"SUCCESS"===(c=e.sent).status?("Please Login to fetch the holdings"==c.data.message&&(localStorage.removeItem("brokerDetails"),x(!1)),u(c.data.data)):console.error("Error:",c.error_description),e.next=13;break;case 12:console.error("Error:",n.statusText);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();f&&e()}),[f]);var y=function(){var e=Object(le.a)(Object(ie.a)().mark((function e(){var a,n,c;return Object(ie.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("client anem is ",t),a={broker_name:"ANGEL_ONE",username:t,session_id:localStorage.getItem("sessionID"),totp:m},e.next=5,fetch(w.A+w.b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 5:if(!(n=e.sent).ok){e.next=13;break}return e.next=9,n.json();case 9:"SUCCESS"==(c=e.sent).status?(s({name:c.data.broker_name,clientId:c.data.client_id,brokerSessionId:c.data.session_id}),x(!0),S(c.data.session_id),localStorage.setItem("brokerDetails",JSON.stringify({name:c.data.broker_name,clientId:c.data.client_id,brokerSessionId:c.data.session_id}))):console.error("Error:",c.error_description),e.next=14;break;case 13:console.error("Error:",n.statusText);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(le.a)(Object(ie.a)().mark((function e(){var a,n;return Object(ie.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={broker_name:"ANGEL_ONE",username:t},e.next=4,fetch(w.A+w.c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:e.sent,e.next=12;break;case 11:console.error("Error:",n.statusText);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Error:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s(JSON.parse(localStorage.getItem("brokerDetails"))),JSON.parse(null!=localStorage.getItem("brokerDetails"))&&x(!0)}),[]),Object(b.jsxs)("div",{className:"broker-container",children:[r?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"profile-header",children:[Object(b.jsx)("h2",{className:"profile-username",children:r.name}),Object(b.jsxs)("p",{children:["Broker ID: ",r.clientId]}),Object(b.jsx)("button",{className:"logout-button",onClick:function(){N(),s(null),u([]),x(!1),localStorage.removeItem("brokerDetails")},children:"Logout"})]})}):Object(b.jsxs)("div",{className:"broker-login",children:[Object(b.jsx)("h3",{children:"Broker Login"}),Object(b.jsx)("input",{type:"text",placeholder:"Enter OTP",value:m,onChange:function(e){return O(e.target.value)}}),Object(b.jsx)("button",{onClick:y,children:"Login"})]}),d.length>0?Object(b.jsxs)("div",{className:"holdings-table",children:[Object(b.jsx)("h3",{children:"Holdings"}),Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"tradingsymbol"}),Object(b.jsx)("th",{children:"Quantity"}),Object(b.jsx)("th",{children:"Price"})]})}),Object(b.jsx)("tbody",{children:d.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.tradingsymbol}),Object(b.jsx)("td",{children:e.quantity}),Object(b.jsx)("td",{children:e.averageprice})]},t)}))})]})]}):Object(b.jsx)("div",{})]})}var rt=function(e){var t=e.username,a=Object(n.useState)(null),c=Object(l.a)(a,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(le.a)(Object(ie.a)().mark((function e(){var a,n;return Object(ie.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(w.A+w.y,"?username=").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});case 3:if(!(a=e.sent).ok){e.next=12;break}return e.next=7,a.json();case 7:n=e.sent,s(n.data),localStorage.setItem("userProfilePic",n.data.user_details.profile_pic),e.next=13;break;case 12:console.error("Error:",a.statusText);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"profile-container glassy",children:[Object(b.jsxs)("div",{className:"profile-header",children:[Object(b.jsx)("h2",{className:"profile-username",children:r?r.username:"Loading..."}),Object(b.jsx)("button",{className:"logout-button",onClick:function(){localStorage.removeItem("username"),localStorage.removeItem("sessionID"),localStorage.removeItem("userProfilePic"),window.location.reload()},children:"Logout"})]}),Object(b.jsx)("div",{className:"profile-details",children:r?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"profile-avatar",children:Object(b.jsx)("img",{src:r.user_details.profile_pic,alt:"User Avatar"})}),Object(b.jsxs)("div",{className:"profile-info",children:[Object(b.jsxs)("p",{className:"profile-field",children:[Object(b.jsx)("strong",{children:"Email:"})," ",r.email]}),Object(b.jsxs)("p",{className:"profile-field",children:[Object(b.jsx)("strong",{children:"PAN:"})," ",r.pan]}),Object(b.jsxs)("p",{className:"profile-field",children:[Object(b.jsx)("strong",{children:"Phone:"})," ",r.phone]}),Object(b.jsxs)("p",{className:"profile-field",children:[Object(b.jsx)("strong",{children:"Gender:"})," ",r.user_details.gender]}),Object(b.jsxs)("p",{className:"profile-field",children:[Object(b.jsx)("strong",{children:"About:"})," ",r.user_details.about]}),Object(b.jsxs)("p",{className:"profile-field",children:[Object(b.jsx)("strong",{children:"Date Of Birth:"})," ",r.user_details.dob]}),Object(b.jsxs)("div",{className:"access-pills",children:[Object(b.jsx)("strong",{children:"Access:"}),r.access.map((function(e,t){return Object(b.jsx)("span",{className:"access-pill",children:e},t)}))]})]})]}):Object(b.jsx)("p",{children:"Loading user data..."})})]}),Object(b.jsx)("br",{}),r?Object(b.jsx)(ct,{clientname:r.username,className:"glassy"}):Object(b.jsx)("div",{children:"USername not found"})]})};function st(e){var t=e.message,a=e.type,c=Object(n.useState)(!0),r=Object(l.a)(c,2),s=r[0],o=r[1];return s?Object(b.jsxs)("div",{className:"toast ".concat(a),children:[Object(b.jsx)("p",{className:"message",children:t}),Object(b.jsx)("button",{className:"close-button",onClick:function(){o(!1)},children:"X"})]}):null}var ot=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),o=s[0],i=s[1],d=Object(n.useState)(""),u=Object(l.a)(d,2),j=u[0],g=u[1],m=Object(n.useState)(""),O=Object(l.a)(m,2),h=O[0],p=O[1],f=Object(n.useState)(null),x=Object(l.a)(f,2),v=x[0],k=x[1];Object(n.useEffect)((function(){!function(){console.log("Checking session");var e=localStorage.getItem("sessionID"),t=localStorage.getItem("username"),a=localStorage.getItem("sessionExpiry");(new Date).getTime(),e&&t&&a&&(c(t),k(e))}()}),[]);var S=function(){var e=Object(le.a)(Object(ie.a)().mark((function e(t){var n,c;return Object(ie.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch(w.A+w.H,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:o})});case 4:if(!(n=e.sent).ok){e.next=12;break}return e.next=8,n.json();case 8:"SUCCESS"===(c=e.sent).status?(localStorage.setItem("sessionID",c.data.session_id),localStorage.setItem("username",c.data.username),localStorage.setItem("sessionExpiry",new Date(c.data.session_expiry_at).getTime()),g("Login Successful!"),p("success"),window.location.reload()):(g("Login Failed! - "+c.error_description),p("error")),e.next=14;break;case 12:g("Something went wrong"),p("error");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error("Error:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"container",children:[a&&v?Object(b.jsx)(rt,{username:a,session_id:v}):Object(b.jsxs)("form",{className:"login-form",onSubmit:S,children:[Object(b.jsx)("h2",{children:"User Login"}),Object(b.jsx)("input",{className:"input",type:"text",placeholder:"Username",value:a,onChange:function(e){return c(e.target.value)}}),Object(b.jsx)("input",{className:"input",type:"password",placeholder:"Password",value:o,onChange:function(e){return i(e.target.value)}}),Object(b.jsx)("button",{className:"button",type:"submit",children:"Login"})]}),j&&Object(b.jsx)(st,{message:j,type:h})]})},it=(a(516),function(e){var t=e.stockList,a=e.updateStockList,n=e.stockListName;return Object(b.jsxs)("div",{className:"show-selected-stocks-container",children:[Object(b.jsxs)("h2",{className:"cortexHeading",children:["Stock Bucket List: ",Object(b.jsx)("i",{children:Object(b.jsx)("u",{children:n})})]}),Object(b.jsx)("div",{className:"show-selected-stocks-list",children:t.map((function(e){return Object(b.jsxs)("div",{className:"show-selected-stocks-row animate__animated animate__fadeIn",children:[Object(b.jsx)("span",{className:"mr-3",children:e}),Object(b.jsx)("button",{className:"show-selected-stocks-button",onClick:function(){return function(e){var n=t.filter((function(t){return t!==e}));a(n)}(e)},children:"x"})]},e)}))})]})}),lt=a(26);var dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"stockBucketName",c=Object(n.useState)("loading"),r=Object(l.a)(c,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){N.a.get(w.A+w.s).then((function(e){o(E(e.data.data)),console.log("options stockbucketlist",E(e.data.data))}))}),[]),Object(b.jsx)("div",{children:Object(b.jsx)(_.a,{onChange:function(t){console.log("dropdown updated of stock bucket",t),e(a,t.value)},defaultValue:s[0],options:s,placeholder:"Select Data",isMulti:t})})},ut={start_date:new Date(Date.now()-2592e6).toISOString().slice(0,10),end_date:(new Date).toISOString().slice(0,10),username:localStorage.getItem("username")};var jt=function(e){var t=e.updateStockList,a=e.updateStockBucketName,c=e.stockList,r=Object(n.useState)([]),s=Object(l.a)(r,2),o=s[0],i=s[1],d=Object(n.useState)([]),j=Object(l.a)(d,2),g=j[0],m=j[1],O=Object(n.useState)([]),h=Object(l.a)(O,2),v=h[0],y=h[1],C=Object(n.useState)(ut),E=Object(l.a)(C,2),I=E[0],B=E[1];Object(n.useEffect)((function(){null!=I.stockBucketName&&(console.log("Generating selected stocks",I.stockBucketName),a(I.stockBucketName),I.updatedStockBucketName=I.stockBucketName,N.a.get(w.A+w.r,{params:{request:I.stockBucketName}}).then((function(e){t(e.data.data.stock_symbols)})))}),[I.stockBucketName]),Object(n.useEffect)((function(){N.a.get(w.A+w.w).then((function(e){i(D(e.data.data))})),N.a.get(w.A+w.l).then((function(e){m(D(e.data.data))})),N.a.get(w.A+w.m).then((function(e){y(D(e.data.data))}))}),[]);var R=function(e){var t=e.target,a=t.name,n=t.value;B(Object(f.a)(Object(f.a)({},I),{},Object(p.a)({},a,n)))},T=function(e,a){B(Object(f.a)(Object(f.a)({},I),{},Object(p.a)({},e,a))),"stock_list"==e&&t([].concat(Object(lt.a)(c),[a]))};return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsxs)(u.a,{className:"bg-opacity-40 p-4 h-100",children:[Object(b.jsx)("h1",{className:"text-center font-bold text-lg",children:"Generate Signals"}),Object(b.jsx)(x.a,{variant:"h7",className:"text-center text-gray-500 text-bold",children:"Select Stocks"}),A(T,!1,"stock_list"),Object(b.jsx)(x.a,{variant:"h7",className:"text-center text-gray-500 text-bold",children:"Select Strategy"}),Object(b.jsx)(_.a,{onChange:function(e){T("strategy_name",e.value)},placeholder:"Select Strategy",isRequired:!0,defaultValue:o[0],options:o}),Object(b.jsxs)("div",{className:"grid md:grid-cols-2 gap-2 mt-3",children:[Object(b.jsx)(_.a,{onChange:function(e){T("interval",e.value)},placeholder:"Select interval",isRequired:!0,defaultValue:v[0],options:v}),Object(b.jsx)(_.a,{onChange:function(e){T("broker_name",e.value)},placeholder:"Select Broker",isRequired:!0,defaultValue:g[0],options:g})]}),Object(b.jsxs)("div",{className:"grid md:grid-cols-2 gap-2 mt-3",children:[Object(b.jsx)(S.a,{onChange:R,name:"start_date",type:"date",value:I.start_date,label:"Start Date"}),Object(b.jsx)(S.a,{onChange:R,name:"end_date",type:"date",value:I.end_date,label:"End Date"})]}),Object(b.jsxs)("div",{className:"grid md:grid-cols-2 gap-2 mt-3",children:[Object(b.jsx)(S.a,{onChange:R,name:"username",multiline:"false",type:"textarea",value:I.username,label:" username "}),Object(b.jsx)(S.a,{onChange:R,name:"remarks",multiline:"true",type:"textarea",value:I.remarks,label:" remarks "})]}),Object(b.jsx)("div",{className:"grid grid-col-1 grid-flow-col m-3 align-bottom",children:Object(b.jsx)(k.a,{className:" bg-green-100",type:"submit",onClick:function(){console.log("new executor request",I);var e={start_time:I.start_date,end_time:I.end_date,interval:I.interval,stock_symbols:c,analysis_engine:"simple_engine",strategy_name:I.strategy_name,username:localStorage.getItem("username"),broker_name:I.broker_name,description:I.remarks,bucket_name:I.updatedStockBucketName?I.updatedStockBucketName:I.stockBucketName};N.a.post(w.A+w.j,e).then((function(e){console.log("generate signal response",e.data),"SUCCESS"==e.data.data.status?alert("Signal generation started"):alert("Signal generation Failed, Please try again later !!!")})).catch((function(e){return alert(e)}))},children:"Submit"})})]})}),Object(b.jsx)("div",{className:"mt-2",children:Object(b.jsxs)(u.a,{className:"bg-opacity-40 p-4 h-100",children:[Object(b.jsx)("h1",{className:"text-center font-bold text-lg",children:"Stock Bucket"}),Object(b.jsx)(x.a,{variant:"h7",className:"text-center text-gray-500 text-bold",children:"Select Stock Bucket"}),dt(T,!1,"stockBucketName"),Object(b.jsx)(S.a,{onChange:R,name:"updatedStockBucketName",multiline:"false",type:"textarea",value:I.updatedStockBucketName,label:" stockBucketName "}),Object(b.jsx)(k.a,{className:" bg-green-100 btn btn-primary align-left",type:"submit",onClick:function(){console.log("save stock bucket",I);var e={bucket_name:I.updatedStockBucketName,stock_symbols:c,description:"Somthin i wanna write",username:localStorage.getItem("username")};N.a.post(w.A+w.B,e).then((function(e){console.log("save data response ",e.data),alert("Stock bucket saved "+I.updatedStockBucketName)})).catch((function(e){return alert(e)}))},children:"Save Bucket"})]})})]})},bt=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),o=s[0],i=s[1];return Object(b.jsxs)("div",{className:"flex flex-row  ",children:[Object(b.jsx)("div",{className:"flex-grow bg-white bg-opacity-75 rounded-lg shadow-lg mx-4 my-2 p-4",children:Object(b.jsx)(it,{stockList:a,updateStockList:c,stockListName:o})}),Object(b.jsx)("div",{className:"flex-shrink bg-white bg-opacity-75 rounded-lg shadow-lg mx-4 my-2 p-4",children:Object(b.jsx)(jt,{updateStockList:c,updateStockBucketName:i,stockList:a})})]})},gt=(a(517),a(209)),mt=a.n(gt),Ot=function(e){var t=e.signal,a=e.isOpen,c=e.onRequestClose,r=e.isSummary,s=Object(n.useState)([]),o=Object(l.a)(s,2),i=(o[0],o[1]),d=Object(n.useState)([]),u=Object(l.a)(d,2),j=u[0],g=u[1],m=Object(n.useState)([]),O=Object(l.a)(m,2),h=O[0],p=O[1];Object(n.useEffect)((function(){f(r)}),[]);var f=function(){var e=Object(le.a)(Object(ie.a)().mark((function e(a){var n,c;return Object(ie.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=10;break}return e.next=4,N.a.get(w.A+w.p,{params:{request:t.signal_id}});case 4:n=e.sent,console.log("fetchTradeData summary active ",n),g(n.data),c=de(n.data),e.next=15;break;case 10:return e.next=12,N.a.get(w.A+w.o,{params:{request:t.signal_id}});case 12:n=e.sent,g(ue(n.data.report)),c=de(ue(n.data.report));case 15:i(n.data),p(c),console.log("column ",c),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Error fetching trade details:",e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),x=Object(b.jsx)("div",{className:"loading",children:"Loading data"});return Object(b.jsxs)(mt.a,{isOpen:a,onRequestClose:c,contentLabel:"Trade Details",className:"trade-details-modal",overlayClassName:"modal-overlay",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("h2",{children:"Trade Details"}),Object(b.jsx)("button",{onClick:c,className:"cut-button",children:"\u2715"})]}),j&&h?Ke("Signal id ".concat(t.signal_id),j,h,{zIndex:10}):x]})};a(527);mt.a.setAppElement("#root");var ht=function(){var e=Object(le.a)(Object(ie.a)().mark((function e(t,a){var n;return Object(ie.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post(w.A+w.g,{signal_id:t,username:a,broker_name:"PAPER_TRADING"});case 3:n=e.sent,console.log("Signal deleted:",n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting Signal:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),pt=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),s=Object(l.a)(r,2),o=s[0],i=s[1],d=Object(n.useState)(null),u=Object(l.a)(d,2),j=u[0],g=u[1],m=Object(n.useState)([]),O=Object(l.a)(m,2),h=O[0],p=O[1];Object(n.useEffect)((function(){f()}),[]);var f=function(){var e=Object(le.a)(Object(ie.a)().mark((function e(){var t,a;return Object(ie.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get(w.A+w.k);case 3:t=e.sent,c(t.data),console.log("Trade signals dasbhboard data ",t.data),(a=de(t.data)).push.apply(a,y),p(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching trade signals:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),x=function(e,t){var a=t?"#c5aa20":"primary",n=t?"Summary":"Report";return Object(b.jsx)(k.a,{variant:"contained",color:a,onClick:function(a){a.stopPropagation(),v(e,t)},children:n})},v=function(e,t){i(e),g(t)},S=Object(b.jsx)("div",{className:"loading",children:"Loading data"}),y=[{title:"Report",field:"detailedReport",render:function(e){return x(e,!1)},disableClickEventBubbling:!0},{title:"Summary",field:"summaryReport",render:function(e){return x(e,!0)},disableClickEventBubbling:!0},{title:"Delete",field:"deactivate",render:function(e){return Object(b.jsx)(k.a,{variant:"contained",color:"secondary",onClick:function(t){t.stopPropagation(),ht(e.signal_id,localStorage.getItem("username"))},children:"Delete"})},disableClickEventBubbling:!0}];return Object(b.jsxs)("div",{className:"signals-dashboard",children:[a&&h?Ke("Trade Signals",a,h):S,o&&Object(b.jsx)(Ot,{signal:o,isOpen:!0,onRequestClose:function(){i(null),g(null)},isSummary:j})]})};function ft(){return Object(b.jsx)("div",{className:"flex-row row bg-gray-700 min-h-screen",children:Object(b.jsxs)(o.a,{children:[Object(b.jsx)(oe,{}),Object(b.jsx)("div",{className:"resize-x ml-16 p-1 ",children:Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{path:"/",element:Object(b.jsx)(te,{})}),Object(b.jsx)(i.a,{path:"/ranking",element:Object(b.jsx)(Xe,{})}),Object(b.jsx)(i.a,{path:"/executor_cp",element:Object(b.jsx)(tt,{})}),Object(b.jsx)(i.a,{path:"/strategy_dashboard",element:Object(b.jsx)(nt,{})}),Object(b.jsx)(i.a,{path:"/user",element:Object(b.jsx)(ot,{})}),Object(b.jsx)(i.a,{path:"/generate_signals",element:Object(b.jsx)(bt,{})}),Object(b.jsx)(i.a,{path:"/signals_dashboard",element:Object(b.jsx)(pt,{})})]})})]})})}var xt=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,725)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(ft,{})}),document.getElementById("root")),xt()}},[[528,1,2]]]);
//# sourceMappingURL=main.5b4e0e9a.chunk.js.map